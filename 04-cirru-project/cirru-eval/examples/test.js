// Generated by CoffeeScript 1.4.0
var __slice = [].slice;

define(function(require, exports) {
  var cirru, draw, editor, run, run_code;
  window.show = function() {
    var args;
    args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];
    return console.log.apply(console, args);
  };
  window.error = function(info) {
    throw new Error(info);
  };
  run = require('../src/run');
  cirru = require('../../cirru-editor/src/cirru-editor.js');
  draw = require('./draw');
  editor = cirru.editor('writer');
  run_code = function() {
    var code, debug, ret;
    code = editor.value;
    show(JSON.stringify(editor.val()));
    debug = document.querySelector('#debug');
    debug.innerHTML = '';
    ret = run.run({}, code);
    return debug.innerHTML = draw.output(ret);
  };
  debug.onclick = run_code;
});
